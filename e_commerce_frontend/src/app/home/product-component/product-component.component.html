<app-nav-bar></app-nav-bar>
<router-outlet></router-outlet>
<div class="product-card" *ngIf="product">
   <div class="product-image">
      <img *ngIf="product.images?.length" [src]="product.images[0].fileUrl" [alt]="product.name" class="img-fluid">
      <div *ngIf="!product.images?.length" class="no-image">
         <i class="fas fa-image"></i>
         <span>No Image Available</span>
      </div>
   </div>

   <div class="product-details">
      <h3 class="product-name">{{ product.name }}</h3>
      <p class="product-description">{{ product.description }}</p>

      <div class="price-section">
         <span class="current-price">
            {{ product.currentPrice | currency }}
         </span>
         <span *ngIf="hasDiscount" class="original-price">
            {{ product.price | currency }}
         </span>
         <span *ngIf="hasDiscount" class="discount-badge">
            {{ ((product.price - product.currentPrice) / product.price * 100 | number:'1.0-0') }}% OFF
         </span>
      </div>

      <div class="quantity-control">
         <button (click)="decreaseQuantity()" class="quantity-btn">-</button>
         <span class="quantity-value">{{ quantity }}</span>
         <button (click)="increaseQuantity()" class="quantity-btn">+</button>
      </div>

      <div class="total-amount">
         Total: {{ getTotalAmount() | currency }}
      </div>

      <div class="stock-status">
         <span [class.in-stock]="product.quantity > 0" [class.out-of-stock]="product.quantity <= 0">
            {{ product.quantity > 0 ? 'In Stock' : 'Out of Stock' }}
         </span>
      </div>

      <div class="action-buttons">
         <button (click)="addToCart()" class="btn-add-to-cart">
            <i class="fas fa-shopping-cart"></i> Add to Cart
         </button>
         <button (click)="buyNow()" class="btn-buy-now">
            <i class="fas fa-bolt"></i> Buy Now
         </button>
      </div>
   </div>
</div>